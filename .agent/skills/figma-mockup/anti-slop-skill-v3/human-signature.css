/* ═══════════════════════════════════════════════════════════
   ANTI-SLOP ENGINE V3.0
   Enforcing Human Intent Through CSS
   ═══════════════════════════════════════════════════════════ */

/* ────────────────────────────────────────────────────────────
   1. MATERIAL-BASED PALETTE
   ──────────────────────────────────────────────────────────── */
:root {
  /* Primary Materials */
  --ink: #0d0d0b;           /* Warm near-black */
  --paper: #f9f9f7;         /* Warm off-white */
  --concrete: #e8e6e3;      /* Mid-tone base */
  --charcoal: #2a2826;      /* Dark secondary */
  
  /* Accent (use sparingly - < 5% of visual area) */
  --acid: #d4ff00;          /* Neon yellow friction point */
  
  /* Semantic Colors */
  --danger: #d32f2f;
  --success: #2d7d5e;
  --warning: #f57c00;
  
  /* Tension Spacing - Encodes Relationships */
  --space-xs: 0.25rem;      /* Tight coupling */
  --space-sm: 0.5rem;       /* Related elements */
  --space-md: 1.5rem;       /* Standard separation */
  --space-lg: 3rem;         /* Section break */
  --space-xl: 6rem;         /* Major chapter break */
  --space-2xl: clamp(8rem, 15vw, 20rem); /* Violent separation */
  
  /* Typography Scale - Dramatic Jumps */
  --text-xs: 0.75rem;       /* 12px */
  --text-sm: 0.875rem;      /* 14px */
  --text-base: 1rem;        /* 16px */
  --text-lg: 1.125rem;      /* 18px */
  --text-xl: 1.75rem;       /* 28px - Note the jump */
  --text-2xl: 3rem;         /* 48px - Violent leap */
  --text-display: clamp(4rem, 15vw, 18rem); /* Abusive scale */
  
  /* Weights */
  --weight-normal: 400;
  --weight-medium: 600;
  --weight-bold: 700;
  --weight-black: 900;
  
  /* Animation Easings */
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-power: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-material: cubic-bezier(0.4, 0, 0.2, 1);
}

/* ────────────────────────────────────────────────────────────
   2. RADICAL RESET (Erase AI Defaults)
   ──────────────────────────────────────────────────────────── */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

* {
  border-radius: 0 !important; /* Erase the 'rounded slop' */
}

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  background-color: var(--paper);
  color: var(--ink);
  line-height: 1.5;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  cursor: default;
}

/* ────────────────────────────────────────────────────────────
   3. TYPOGRAPHY AS ARCHITECTURE
   ──────────────────────────────────────────────────────────── */

/* Display Text - Abusive Scale */
.display-text,
h1 {
  font-size: var(--text-display);
  font-weight: var(--weight-black);
  line-height: 0.85;
  letter-spacing: -0.05em;
  text-transform: uppercase;
  margin-left: -0.05em; /* Optical correction */
  margin-bottom: var(--space-lg);
}

/* Primary Heading */
h2 {
  font-size: var(--text-2xl);
  font-weight: var(--weight-bold);
  letter-spacing: -0.02em;
  line-height: 1.1;
  margin-bottom: var(--space-md);
}

/* Secondary Heading */
h3 {
  font-size: var(--text-xl);
  font-weight: var(--weight-medium);
  letter-spacing: -0.01em;
  line-height: 1.2;
  margin-bottom: var(--space-sm);
}

/* Eyebrow / Label Heading */
h4,
.eyebrow {
  font-size: var(--text-xs);
  font-weight: var(--weight-bold);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  line-height: 1.4;
  margin-bottom: var(--space-xs);
  color: var(--charcoal);
}

/* Body Text */
p {
  font-size: var(--text-base);
  line-height: 1.6;
  margin-bottom: var(--space-md);
}

/* Large Body */
.text-large {
  font-size: var(--text-lg);
  line-height: 1.7;
}

/* Small / Caption */
.text-small {
  font-size: var(--text-sm);
  line-height: 1.5;
}

/* Technical Text (for data, code, timestamps) */
.text-technical {
  font-family: 'JetBrains Mono', 'IBM Plex Mono', 'Courier New', monospace;
  font-size: var(--text-sm);
  letter-spacing: 0.02em;
}

/* ────────────────────────────────────────────────────────────
   4. LAYOUT PATTERNS (Breaking The Grid)
   ──────────────────────────────────────────────────────────── */

/* The Broken Grid - Asymmetric Columns */
.grid-broken {
  display: grid;
  grid-template-columns: 1.618fr 1fr; /* Golden ratio */
  gap: var(--space-md) var(--space-lg);
  align-items: start;
}

.grid-broken-3 {
  display: grid;
  grid-template-columns: 1.5fr 0.5fr 1fr;
  gap: var(--space-md);
}

/* The Stack - Vertical Rhythm */
.stack-tight { 
  display: flex; 
  flex-direction: column; 
  gap: var(--space-xs); 
}

.stack-standard { 
  display: flex; 
  flex-direction: column; 
  gap: var(--space-md); 
}

.stack-loose { 
  display: flex; 
  flex-direction: column; 
  gap: var(--space-xl); 
}

/* The Cluster - Horizontal Grouping */
.cluster {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-sm);
  align-items: center;
}

/* Container - Asymmetric Max Width */
.container {
  max-width: 85rem;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--space-md);
  padding-right: var(--space-md);
}

.container-narrow {
  max-width: 45rem; /* For reading */
}

.container-wide {
  max-width: 100rem; /* For data tables */
}

/* ────────────────────────────────────────────────────────────
   5. FRICTION ELEMENTS (Overlaps & Collisions)
   ──────────────────────────────────────────────────────────── */

/* Overlap - Invades Previous Section */
.friction-overlap {
  margin-top: -10%;
  position: relative;
  z-index: 10;
  background: var(--paper);
  padding: var(--space-lg);
}

/* Bleed - Breaks Container */
.bleed {
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
}

/* Offset - Asymmetric Position */
.offset-left {
  margin-left: calc(var(--space-lg) * -1);
}

.offset-right {
  margin-right: calc(var(--space-lg) * -1);
}

/* ────────────────────────────────────────────────────────────
   6. BUTTONS WITH INTENT
   ──────────────────────────────────────────────────────────── */

/* Base Button Reset */
button {
  font-family: inherit;
  font-size: inherit;
  cursor: pointer;
  border: none;
  background: none;
}

/* Primary - The Violent CTA */
.btn-primary {
  background: var(--ink);
  color: var(--paper);
  padding: 1.25rem 2.5rem;
  border: 2px solid var(--ink);
  font-weight: var(--weight-bold);
  letter-spacing: 0.05em;
  text-transform: uppercase;
  font-size: var(--text-sm);
  transition: all 0.25s var(--ease-spring);
  display: inline-block;
  text-decoration: none;
}

.btn-primary:hover {
  background: var(--acid);
  color: var(--ink);
  border-color: var(--acid);
  transform: translateY(-2px) scale(1.02);
}

.btn-primary:active {
  transform: translateY(0) scale(0.98);
}

/* Secondary - The Restrained Option */
.btn-secondary {
  background: transparent;
  color: var(--ink);
  padding: 1.25rem 2.5rem;
  border: 2px solid var(--ink);
  font-weight: var(--weight-bold);
  letter-spacing: 0.05em;
  text-transform: uppercase;
  font-size: var(--text-sm);
  transition: all 0.2s var(--ease-material);
}

.btn-secondary:hover {
  background: var(--ink);
  color: var(--paper);
}

/* Ghost - The Whisper */
.btn-ghost {
  background: transparent;
  color: var(--ink);
  padding: 0.5rem 1rem;
  border: none;
  text-decoration: underline;
  text-underline-offset: 4px;
  text-decoration-thickness: 2px;
  font-weight: var(--weight-medium);
  transition: all 0.15s var(--ease-material);
}

.btn-ghost:hover {
  color: var(--charcoal);
  text-decoration-thickness: 3px;
}

/* Mechanical Buttons (With Brackets) */
.btn-mechanical {
  font-family: 'JetBrains Mono', monospace;
  background: transparent;
  color: var(--ink);
  padding: 0.75rem 1.5rem;
  border: 1px solid var(--concrete);
  font-size: var(--text-sm);
  transition: all 0.15s var(--ease-material);
}

.btn-mechanical::before {
  content: '[ ';
}

.btn-mechanical::after {
  content: ' ]';
}

.btn-mechanical:hover {
  border-color: var(--ink);
  background: var(--ink);
  color: var(--paper);
}

/* ────────────────────────────────────────────────────────────
   7. CARDS WITH HIERARCHY
   ──────────────────────────────────────────────────────────── */

/* Hero Card - Dominant Presence */
.card-hero {
  background: var(--ink);
  color: var(--paper);
  padding: var(--space-xl);
  position: relative;
  overflow: hidden;
}

.card-hero::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 40%;
  height: 100%;
  background: var(--acid);
  opacity: 0.05;
  transform: skewX(-15deg);
  pointer-events: none;
}

/* Standard Card - Utilitarian */
.card {
  background: var(--paper);
  border: 1px solid var(--concrete);
  padding: var(--space-lg);
  transition: border-color 0.2s var(--ease-material);
}

.card:hover {
  border-color: var(--charcoal);
}

/* Elevated Card - Use Sparingly */
.card-elevated {
  background: var(--paper);
  border: 1px solid var(--concrete);
  padding: var(--space-lg);
  position: relative;
  transition: transform 0.25s var(--ease-spring);
}

.card-elevated:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(13, 13, 11, 0.08);
}

/* ────────────────────────────────────────────────────────────
   8. FORMS WITH PERSONALITY
   ──────────────────────────────────────────────────────────── */

/* Label - Assertive */
label {
  font-weight: var(--weight-bold);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: var(--text-xs);
  color: var(--charcoal);
  margin-bottom: var(--space-xs);
  display: block;
}

/* Input - Technical Feel */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="tel"],
input[type="url"],
textarea,
select {
  background: var(--paper);
  border: 2px solid var(--concrete);
  padding: 1rem 1.25rem;
  font-family: inherit;
  font-size: var(--text-base);
  color: var(--ink);
  width: 100%;
  transition: all 0.2s var(--ease-material);
}

input:focus,
textarea:focus,
select:focus {
  border-color: var(--ink);
  outline: none;
  box-shadow: 0 0 0 3px rgba(212, 255, 0, 0.2);
}

input::placeholder {
  color: var(--charcoal);
  opacity: 0.6;
}

/* Textarea */
textarea {
  resize: vertical;
  min-height: 8rem;
  line-height: 1.6;
}

/* Checkbox & Radio - Custom Style */
input[type="checkbox"],
input[type="radio"] {
  width: 1.25rem;
  height: 1.25rem;
  border: 2px solid var(--concrete);
  background: var(--paper);
  cursor: pointer;
  appearance: none;
  -webkit-appearance: none;
  transition: all 0.15s var(--ease-material);
}

input[type="checkbox"]:checked,
input[type="radio"]:checked {
  background: var(--ink);
  border-color: var(--ink);
}

input[type="radio"] {
  border-radius: 50% !important; /* Exception for functional reason */
}

/* ────────────────────────────────────────────────────────────
   9. UTILITY CLASSES
   ──────────────────────────────────────────────────────────── */

/* Spacing Utilities */
.mt-xs { margin-top: var(--space-xs); }
.mt-sm { margin-top: var(--space-sm); }
.mt-md { margin-top: var(--space-md); }
.mt-lg { margin-top: var(--space-lg); }
.mt-xl { margin-top: var(--space-xl); }
.mt-2xl { margin-top: var(--space-2xl); }

.mb-xs { margin-bottom: var(--space-xs); }
.mb-sm { margin-bottom: var(--space-sm); }
.mb-md { margin-bottom: var(--space-md); }
.mb-lg { margin-bottom: var(--space-lg); }
.mb-xl { margin-bottom: var(--space-xl); }
.mb-2xl { margin-bottom: var(--space-2xl); }

.p-xs { padding: var(--space-xs); }
.p-sm { padding: var(--space-sm); }
.p-md { padding: var(--space-md); }
.p-lg { padding: var(--space-lg); }
.p-xl { padding: var(--space-xl); }

/* Text Utilities */
.text-uppercase { 
  text-transform: uppercase; 
  letter-spacing: 0.05em; 
}

.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

.font-bold { font-weight: var(--weight-bold); }
.font-black { font-weight: var(--weight-black); }

/* Color Utilities */
.text-ink { color: var(--ink); }
.text-paper { color: var(--paper); }
.text-charcoal { color: var(--charcoal); }
.text-acid { color: var(--acid); }

.bg-ink { background-color: var(--ink); }
.bg-paper { background-color: var(--paper); }
.bg-concrete { background-color: var(--concrete); }
.bg-acid { background-color: var(--acid); }

/* Border Utilities */
.border-top { border-top: 1px solid var(--concrete); }
.border-bottom { border-bottom: 1px solid var(--concrete); }
.border-left { border-left: 1px solid var(--concrete); }
.border-right { border-right: 1px solid var(--concrete); }
.border-all { border: 1px solid var(--concrete); }

.border-thick { border-width: 2px; }

/* ────────────────────────────────────────────────────────────
   10. RESPONSIVE BEHAVIOR
   ──────────────────────────────────────────────────────────── */

@media (max-width: 768px) {
  :root {
    --space-xl: 3rem;
    --space-2xl: 6rem;
  }
  
  .display-text,
  h1 {
    font-size: clamp(2.5rem, 12vw, 4rem);
  }
  
  .grid-broken,
  .grid-broken-3 {
    grid-template-columns: 1fr;
  }
  
  .btn-primary,
  .btn-secondary {
    padding: 1rem 2rem;
    width: 100%;
  }
}

/* ────────────────────────────────────────────────────────────
   11. ACCESSIBILITY
   ──────────────────────────────────────────────────────────── */

/* Respect Motion Preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Focus Visible */
*:focus-visible {
  outline: 3px solid var(--acid);
  outline-offset: 2px;
}

/* Skip to Main Content */
.skip-to-main {
  position: absolute;
  top: -100%;
  left: 0;
  background: var(--ink);
  color: var(--paper);
  padding: 1rem 2rem;
  text-decoration: none;
  z-index: 100;
}

.skip-to-main:focus {
  top: 0;
}

/* ────────────────────────────────────────────────────────────
   12. PRINT STYLES
   ──────────────────────────────────────────────────────────── */

@media print {
  * {
    background: white !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  a,
  a:visited {
    text-decoration: underline;
  }
  
  a[href]::after {
    content: " (" attr(href) ")";
  }
}
